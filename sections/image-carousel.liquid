{% comment %} Size Chart Carousel with Horizontal Scrolling for Léonie & Moi {% endcomment %}

{% schema %}
{
  "name": "Image Carousel",
  "settings": [
    {
      "type": "text",
      "id": "carousel_title",
      "label": "Titre du carrousel",
      "default": "Nos modèles en images"
    }
  ],
  "presets": [
    {
      "name": "Carrousel d'images",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<div class="size-chart-carousel">
    <h2>{{ section.settings.carousel_title }}</h2>
    <div class="carousel-container">
        <div class="carousel-items">
            {% for image in product.images %}
            <div class="carousel-item">
                <img src="{{ image.src | img_url: 'master' }}" alt="{{ product.title }} image" />
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<style>
.size-chart-carousel {
    margin: 20px 0;
}

.carousel-container {
    overflow-x: auto;
    white-space: nowrap;
    display: flex;
    gap: 10px;
}

.carousel-items {
    display: flex;
    scroll-snap-type: x mandatory;
}

.carousel-item {
    flex: 0 0 auto;
    scroll-snap-align: start;
}

.carousel-item img {
    height: 300px;
    width: auto;
    object-fit: cover;
}

.carousel-container::-webkit-scrollbar {
    display: none;
}
</style>

<script>
document.querySelectorAll('.carousel-container').forEach(carousel => {
    carousel.addEventListener('wheel', (event) => {
        event.preventDefault();
        carousel.scrollLeft += event.deltaY;
    });
});
</script>
